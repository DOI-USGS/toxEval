<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Compute EAR values — get_chemical_summary • toxEval</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Compute EAR values — get_chemical_summary" />
<meta property="og:description" content="This function computes Exposure:Activity ratios using user-provided measured 
concentration data from the output of create_toxEval,
and joins the data with the activity concentration at cutoff data provided by 
ToxCast.Data from ToxCast is included with this package, but alternative 
benchmark data can be provided to perform the same &quot;toxEval&quot; analysis." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-53797708-7"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-53797708-7');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">toxEval</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/Introduction.html">Background</a>
</li>
<li>
  <a href="../articles/basicWorkflow.html">Basic Workflow</a>
</li>
<li>
  <a href="../reference/index.html">Function Help</a>
</li>
<li>
  <a href="../articles/PrepareData.html">Data Preparation</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/shinyApp.html">Shiny App</a>
    </li>
    <li>
      <a href="../articles/benchmarks.html">Exploring Benchmarks</a>
    </li>
    <li>
      <a href="../articles/pivot.html">Prepare Data in R</a>
    </li>
    <li>
      <a href="../articles/does_curves.html">Dose Response Curves</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/bibliography.html">Bibliograpy</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/USGS-R/toxEval">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute EAR values</h1>
    <small class="dont-index">Source: <a href='https://github.com/USGS-R/toxEval/blob/master/R/get_chemical_summary.R'><code>R/get_chemical_summary.R</code></a></small>
    <div class="hidden name"><code>get_chemical_summary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function computes Exposure:Activity ratios using user-provided measured 
concentration data from the output of <code><a href='create_toxEval.html'>create_toxEval</a></code>,
and joins the data with the activity concentration at cutoff data provided by 
ToxCast.Data from ToxCast is included with this package, but alternative 
benchmark data can be provided to perform the same "toxEval" analysis.</p>
    </div>

    <pre class="usage"><span class='fu'>get_chemical_summary</span><span class='op'>(</span>
  <span class='va'>tox_list</span>,
  ACC <span class='op'>=</span> <span class='cn'>NULL</span>,
  filtered_ep <span class='op'>=</span> <span class='st'>"All"</span>,
  chem_data <span class='op'>=</span> <span class='cn'>NULL</span>,
  chem_site <span class='op'>=</span> <span class='cn'>NULL</span>,
  chem_info <span class='op'>=</span> <span class='cn'>NULL</span>,
  exclusion <span class='op'>=</span> <span class='cn'>NULL</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>tox_list</th>
      <td><p>List with data frames for chem_data, chem_info, chem_site, 
and optionally exclusions and benchmarks. Created with <code><a href='create_toxEval.html'>create_toxEval</a></code>.</p></td>
    </tr>
    <tr>
      <th>ACC</th>
      <td><p>Data frame with columns: CAS, chnm, endPoint, and ACC_value 
for specific chemical/endpoint combinations generated using the 
<code><a href='get_ACC.html'>get_ACC</a></code> function. EndPoints with specific data quality flags 
may optionally be removed using the <code><a href='remove_flags.html'>remove_flags</a></code> function.</p></td>
    </tr>
    <tr>
      <th>filtered_ep</th>
      <td><p>Data frame with columns: endPoints, groupCol. Default is <code>"All"</code>, where no
filtering occurs.</p></td>
    </tr>
    <tr>
      <th>chem_data</th>
      <td><p><em>Optional</em> data frame with (at least) columns: CAS, SiteID, and Value. Default is <code>NULL</code>. 
The argument will over-ride what is in tox_list.</p></td>
    </tr>
    <tr>
      <th>chem_site</th>
      <td><p><em>Optional</em> data frame with (at least) columns: SiteID, and Short Name. Default is <code>NULL</code>. 
The argument will over-ride what is in tox_list.</p></td>
    </tr>
    <tr>
      <th>chem_info</th>
      <td><p><em>Optional</em> data frame with (at least) columns: CAS, and class. Default is <code>NULL</code>. 
The argument will over-ride what is in tox_list.</p></td>
    </tr>
    <tr>
      <th>exclusion</th>
      <td><p><em>Optional</em> data frame with (at least) columns: CAS and endPoint. Default is <code>NULL</code>. 
The argument will over-ride what is in tox_list.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a data frame with the columns: CAS, chnm (chemical name
as a factor), site, date, EAR, Bio_category, shortName (of site), Class. The output of this 
function is where you find EAR values for every chemical/endpoint combination.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>To use the data provided by the package, a sample workflow is shown below
in the examples. The examples include retrieving the ToxCast (ACC) values 
that are used to calculate EARs, choosing endPoints that should be ignored 
based on data quality "flags" in the ToxCast database, and removing groups of 
endPoints that may not be important to the analysis at hand.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>path_to_tox</span> <span class='op'>&lt;-</span>  <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span><span class='op'>(</span><span class='st'>"extdata"</span>, package<span class='op'>=</span><span class='st'>"toxEval"</span><span class='op'>)</span>
<span class='va'>file_name</span> <span class='op'>&lt;-</span> <span class='st'>"OWC_data_fromSup.xlsx"</span>
<span class='va'>full_path</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='va'>path_to_tox</span>, <span class='va'>file_name</span><span class='op'>)</span>

<span class='va'>tox_list</span> <span class='op'>&lt;-</span> <span class='fu'><a href='create_toxEval.html'>create_toxEval</a></span><span class='op'>(</span><span class='va'>full_path</span><span class='op'>)</span>

<span class='va'>ACC</span> <span class='op'>&lt;-</span> <span class='fu'><a href='get_ACC.html'>get_ACC</a></span><span class='op'>(</span><span class='va'>tox_list</span><span class='op'>$</span><span class='va'>chem_info</span><span class='op'>$</span><span class='va'>CAS</span><span class='op'>)</span>
<span class='va'>ACC</span> <span class='op'>&lt;-</span> <span class='fu'><a href='remove_flags.html'>remove_flags</a></span><span class='op'>(</span><span class='va'>ACC</span><span class='op'>)</span>

<span class='va'>cleaned_ep</span> <span class='op'>&lt;-</span> <span class='fu'><a href='clean_endPoint_info.html'>clean_endPoint_info</a></span><span class='op'>(</span><span class='va'>end_point_info</span><span class='op'>)</span>
<span class='va'>filtered_ep</span> <span class='op'>&lt;-</span> <span class='fu'><a href='filter_groups.html'>filter_groups</a></span><span class='op'>(</span><span class='va'>cleaned_ep</span><span class='op'>)</span>

<span class='va'>chemical_summary</span> <span class='op'>&lt;-</span> <span class='fu'>get_chemical_summary</span><span class='op'>(</span><span class='va'>tox_list</span>, <span class='va'>ACC</span>, <span class='va'>filtered_ep</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>chemical_summary</span><span class='op'>)</span>                             
</div><div class='output co'>#&gt;        CAS              chnm             endPoint          site
#&gt; 1 119-36-8 Methyl salicylate ACEA_AR_agonist_80hr USGS-04024000
#&gt; 2 119-36-8 Methyl salicylate ACEA_AR_agonist_80hr USGS-04095090
#&gt; 3 119-36-8 Methyl salicylate ACEA_AR_agonist_80hr USGS-04137500
#&gt; 4 119-36-8 Methyl salicylate ACEA_AR_agonist_80hr USGS-04137500
#&gt; 5 119-36-8 Methyl salicylate ACEA_AR_agonist_80hr USGS-04137500
#&gt; 6 119-36-8 Methyl salicylate ACEA_AR_agonist_80hr USGS-04137500
#&gt;                  date          EAR     Bio_category shortName         Class
#&gt; 1 2011-05-01 13:00:00 2.223795e-05 Nuclear Receptor   StLouis Miscellaneous
#&gt; 2 2011-10-20 13:45:00 1.779036e-05 Nuclear Receptor     Burns Miscellaneous
#&gt; 3 2011-11-10 14:00:00 2.668554e-05 Nuclear Receptor   AuSable Miscellaneous
#&gt; 4 2011-12-13 15:00:00 4.002831e-05 Nuclear Receptor   AuSable Miscellaneous
#&gt; 5 2012-01-10 11:00:00 2.668554e-05 Nuclear Receptor   AuSable Miscellaneous
#&gt; 6 2012-02-21 13:00:00 5.337108e-05 Nuclear Receptor   AuSable Miscellaneous</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Laura DeCicco, Steven Corsi, Daniel Villeneuve, Brett Blackwell, Gerald Ankley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


