<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ToxCast Evaluations • toxEval</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="ToxCast Evaluations">
<meta property="og:description" content="Data analysis package for estimating potential biological effects from concentrations determined from environmental samples.">
<meta property="og:image" content="/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">toxEval</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/basicWorkflow.html">Basic Workflow</a>
    </li>
    <li>
      <a href="articles/Introduction.html">Introduction to toxEval</a>
    </li>
    <li>
      <a href="articles/PrepareData.html">Preparing toxEval Data</a>
    </li>
    <li>
      <a href="articles/shinyApp.html">Shiny App</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<div id="toxeval" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#toxeval" class="anchor"></a>toxEval <img src="reference/figures/logo.png" alt="toxEval" height="150px" align="right">
</h1></div>

<p>The <code>toxEval</code> R-package includes a set of functions to analyze, visualize, and organize measured concentration data as it relates to ToxCast data (default) or other user-selected chemical-biological interaction benchmark data such as water quality criteria. The intent of these analyses is to develop a better understanding of the potential biological relevance of environmental chemistry data. Results can be used to prioritize which chemicals at which sites may be of greatest concern. These methods are meant to be used as a screening technique to predict potential for biological influence from chemicals that ultimately need to be validated with direct biological assays.</p>
<p>The functions within this package allow great flexibly for exploring the potential biological affects of measured chemicals. Also included in the package is a browser-based application made from the <code>Shiny</code> R-package (the app). The app is based on functions within the R-package and includes many convenient analyses and visualization options for users to choose. Use of the functions within the R-package allows for additional flexibility within the functions beyond what the app offers and provides options for the user to interact more directly with the data. The overview in this document focuses on the R-package.</p>
<div id="quickstart" class="section level2">
<h2 class="hasAnchor">
<a href="#quickstart" class="anchor"></a>Quickstart</h2>
<p align="center">
<img src="reference/figures/app.gif" alt="app_demo"></p>
<p>Installation instructions are below. To quickly get going in <code>toxEval</code>, run:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(toxEval)
<span class="kw"><a href="reference/explore_endpoints.html">explore_endpoints</a></span>()</code></pre></div>
<p>Then click on the “Load Example Data” in the upper right corner. This loads the example data that is found here:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">file.path</span>(<span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="dt">package=</span><span class="st">"toxEval"</span>), <span class="st">"OWC_data_fromSup.xlsx"</span>)</code></pre></div>
<p>Once the data is loaded in the app, sample R code is shown below each tab. This can be copied into the R console (once the app is stopped…) to use as a base for exploring the package directly in R.</p>
<p>Alternatively, an example workflow is shown here (also using example data provided in the package):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(toxEval)
<span class="co">#&gt; USGS Research Package:</span>
<span class="co">#&gt; https://owi.usgs.gov/R/packages.html#research</span>
path_to_file &lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">system.file</span>(<span class="st">"extdata"</span>, <span class="dt">package=</span><span class="st">"toxEval"</span>), <span class="st">"OWC_data_fromSup.xlsx"</span>)
tox_list &lt;-<span class="st"> </span><span class="kw"><a href="reference/create_toxEval.html">create_toxEval</a></span>(path_to_file)
ACClong &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_ACC.html">get_ACC</a></span>(tox_list<span class="op">$</span>chem_info<span class="op">$</span>CAS)
ACClong &lt;-<span class="st"> </span><span class="kw"><a href="reference/remove_flags.html">remove_flags</a></span>(ACClong)

cleaned_ep &lt;-<span class="st"> </span><span class="kw"><a href="reference/clean_endPoint_info.html">clean_endPoint_info</a></span>(end_point_info)
filtered_ep &lt;-<span class="st"> </span><span class="kw"><a href="reference/filter_groups.html">filter_groups</a></span>(cleaned_ep, 
                  <span class="dt">groupCol =</span> <span class="st">'intended_target_family'</span>,
                  <span class="dt">remove_groups =</span> <span class="kw">c</span>(<span class="st">'Background Measurement'</span>,<span class="st">'Undefined'</span>))

chemicalSummary &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_chemical_summary.html">get_chemical_summary</a></span>(tox_list, 
                                        ACClong, 
                                        filtered_ep)
######################################
chem_class_plot &lt;-<span class="st"> </span><span class="kw"><a href="reference/plot_tox_boxplots.html">plot_tox_boxplots</a></span>(chemicalSummary,
                                     <span class="dt">category =</span> <span class="st">'Chemical Class'</span>)
chem_class_plot</code></pre></div>
<p><img src="reference/figures/unnamed-chunk-4-1.png" width="768"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
######################################
plot_stacks &lt;-<span class="st"> </span><span class="kw"><a href="reference/plot_tox_stacks.html">plot_tox_stacks</a></span>(chemicalSummary, 
                               tox_list<span class="op">$</span>chem_site, 
                               <span class="dt">category =</span> <span class="st">"Chemical Class"</span>)
plot_stacks</code></pre></div>
<p><img src="reference/figures/unnamed-chunk-4-2.png" width="768"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">######################################
plot_heat &lt;-<span class="st"> </span><span class="kw"><a href="reference/plot_tox_heatmap.html">plot_tox_heatmap</a></span>(chemicalSummary, 
                               tox_list<span class="op">$</span>chem_site, 
                               <span class="dt">category =</span> <span class="st">"Chemical"</span>)
plot_heat</code></pre></div>
<p><img src="reference/figures/unnamed-chunk-4-3.png" width="768"></p>
<p>This code opens up the example file, loads it into a <code>toxEval</code> object, grabs the pertinent ToxCast information, and creates a “chemicalSummary” data frame that is used in many of the plot and table functions.</p>
<p>There are 4 vignettes to help introduce and navigate the <code>toxEval</code> package:</p>
<table style="width:92%;" class="table">
<colgroup>
<col width="15%">
<col width="18%">
<col width="58%">
</colgroup>
<thead><tr class="header">
<th>Name</th>
<th>R command</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><a href="http://usgs-r.github.io/toxEval/articles/Introduction.html">Introduction</a></td>
<td><code><a href="articles/Introduction.html">vignette("Introduction", package="toxEval")</a></code></td>
<td>Introduction to the toxEval</td>
</tr>
<tr class="even">
<td><a href="http://usgs-r.github.io/toxEval/articles/basicWorkflow.html">Basic Workflow</a></td>
<td><code><a href="articles/basicWorkflow.html">vignette("basicWorkflow", package="toxEval")</a></code></td>
<td>Quickstart guide to get overview of available functions</td>
</tr>
<tr class="odd">
<td><a href="http://usgs-r.github.io/toxEval/articles/PrepareData.html">Prepare Data</a></td>
<td><code><a href="articles/PrepareData.html">vignette("PrepareData", package="toxEval")</a></code></td>
<td>Guide to preparing your data for toxEval analysis</td>
</tr>
<tr class="even">
<td><a href="http://usgs-r.github.io/toxEval/articles/shinyApp.html">Shiny App Guide</a></td>
<td><code><a href="articles/shinyApp.html">vignette("shinyApp", package="toxEval")</a></code></td>
<td>Guide to the toxEval shiny application</td>
</tr>
</tbody>
</table>
<div id="reporting-bugs" class="section level3">
<h3 class="hasAnchor">
<a href="#reporting-bugs" class="anchor"></a>Reporting bugs</h3>
<p>Please consider reporting bugs and asking questions on the Issues page: <a href="https://github.com/USGS-R/toxEval/issues" class="uri">https://github.com/USGS-R/toxEval/issues</a></p>
<p>Follow <code>@USGS_R</code> on Twitter for updates on USGS R packages:</p>
<p><a href="https://twitter.com/USGS_R"><img src="https://img.shields.io/twitter/follow/USGS_R.svg?style=social&amp;label=Follow%20USGS_R" alt="Twitter Follow"></a></p>
</div>
<div id="code-of-conduct" class="section level3">
<h3 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h3>
<p>We want to encourage a warm, welcoming, and safe environment for contributing to this project. See the <a href="https://github.com/USGS-R/toxEval/blob/master/CONDUCT.html">code of conduct</a> for more information.</p>
</div>
<div id="package-support" class="section level3">
<h3 class="hasAnchor">
<a href="#package-support" class="anchor"></a>Package Support</h3>
<p>The Water and Environmental Health Mission Areas of the USGS, as well as the Great Lakes Restoration Initiative (GLRI) has supported the development of the <code>toxEval</code> R-package. Further maintenance is expected to be stable through September 2018. Resources are available primarily for maintenance and responding to user questions. Priorities on the development of new features are determined by the <code>toxEval</code> development team.</p>
<p><a href="https://www.usgs.gov/"><img src="http://usgs-r.github.io/images/usgs.png" alt="USGS"></a></p>
</div>
<div id="sunset-date" class="section level3">
<h3 class="hasAnchor">
<a href="#sunset-date" class="anchor"></a>Sunset date</h3>
<p>Funding for <code>toxEval</code> is secured through summer 2021, after which bug fixes &amp; new features will be minimal.</p>
</div>
</div>
<div id="installation-of-r-and-rstudio" class="section level2">
<h2 class="hasAnchor">
<a href="#installation-of-r-and-rstudio" class="anchor"></a>Installation of R and RStudio</h2>
<p>This section should only need to be done once per computer.</p>
<p>The following link walks you through an installation of R and RStudio:</p>
<p><a href="https://owi.usgs.gov/R/training-curriculum/installr/">Installation Instructions</a></p>
<p>If you follow those instructions exactly, you should have the USGS R repository (GRAN) added to your R profile. If that step doesn’t ring a bell, paste the following into your R console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">rprofile_path =<span class="st"> </span><span class="kw">file.path</span>(<span class="kw">Sys.getenv</span>(<span class="st">"HOME"</span>), <span class="st">".Rprofile"</span>)
<span class="kw">write</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">options(repos=c(getOption(</span><span class="ch">\'</span><span class="st">repos</span><span class="ch">\'</span><span class="st">),</span>
<span class="st">    CRAN=</span><span class="ch">\'</span><span class="st">https://cloud.r-project.org</span><span class="ch">\'</span><span class="st">,</span>
<span class="st">    USGS=</span><span class="ch">\'</span><span class="st">https://owi.usgs.gov/R</span><span class="ch">\'</span><span class="st">))</span><span class="ch">\n</span><span class="st">'</span>,
      rprofile_path, 
      <span class="dt">append =</span>  <span class="ot">TRUE</span>)

<span class="kw">cat</span>(<span class="st">'Your Rprofile has been updated to include GRAN.</span>
<span class="st">    Please restart R for changes to take effect.'</span>)</code></pre></div>
<p><em>RESTART RSTUDIO!</em></p>
<p>Useful links:</p>
<ul>
<li><a href="https://cran.r-project.org/bin/windows/base/">Download R Windows</a></li>
<li><a href="https://cran.r-project.org/bin/macosx/">Download R Mac</a></li>
<li><a href="https://www.rstudio.com/products/rstudio/download/">Download RStudio</a></li>
</ul>
</div>
<div id="installation-of-toxeval" class="section level2">
<h2 class="hasAnchor">
<a href="#installation-of-toxeval" class="anchor"></a>Installation of toxEval</h2>
<p>This section should also only have to be done once. It assumes the USGS R repository (GRAN) was added to your R profile as described above.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">"toxEval"</span>)</code></pre></div>
<p>Regularly, it is a good idea to update <em>ALL</em> your packages in R. If using RStudio, this is quite easy, there’s an Update button in the “Packages” tab. This checks CRAN and GRAN for updates. It is a good idea to click this update regularly.</p>
<div class="figure">
<img src="articles/update.png" alt="update"><p class="caption">update</p>
</div>
</div>
<div id="run-toxeval" class="section level2">
<h2 class="hasAnchor">
<a href="#run-toxeval" class="anchor"></a>Run toxEval</h2>
<p>To run the toxEval app:</p>
<ol style="list-style-type: decimal">
<li>Open RStudio</li>
<li>In the Console (lower-left window of RStudio) paste the following:</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(toxEval)
<span class="kw"><a href="reference/explore_endpoints.html">explore_endpoints</a></span>()</code></pre></div>
</div>
<div id="citing-toxeval" class="section level2">
<h2 class="hasAnchor">
<a href="#citing-toxeval" class="anchor"></a>Citing toxEval</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">citation</span>(<span class="dt">package =</span> <span class="st">"toxEval"</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; To cite toxEval in publications, please use:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   De Cicco, L.A., Corsi, S.R., Villeneuve D.L, Blackwell, and B.R,</span>
<span class="co">#&gt;   Ankley, G.T., 2018, toxEval: Evaluation of measured</span>
<span class="co">#&gt;   concentration data using the ToxCast high-throughput screening</span>
<span class="co">#&gt;   database or a user-defined set of concentration benchmarks. R</span>
<span class="co">#&gt;   package version 1.0.0., https://code.usgs.gov/water/toxEval,</span>
<span class="co">#&gt;   doi:10.5066/P906UQ5I</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; A BibTeX entry for LaTeX users is</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;   @Manual{,</span>
<span class="co">#&gt;     author = {Laura A. {De Cicco} and Steven R. Corsi and Daniel L. Villeneuve and Brett R. Blackwell and Gerald T. Ankley},</span>
<span class="co">#&gt;     title = {toxEval: Evaluation of measured concentration data using the ToxCast high-throughput screening database or a user-defined set of concentration benchmarks.},</span>
<span class="co">#&gt;     publisher = {U.S. Geological Survey},</span>
<span class="co">#&gt;     version = {1.0.0},</span>
<span class="co">#&gt;     address = {Reston, VA},</span>
<span class="co">#&gt;     institution = {U.S. Geological Survey},</span>
<span class="co">#&gt;     year = {2018},</span>
<span class="co">#&gt;     url = {https://code.usgs.gov/water/toxEval},</span>
<span class="co">#&gt;   }</span></code></pre></div>
</div>
<div id="disclaimer" class="section level2">
<h2 class="hasAnchor">
<a href="#disclaimer" class="anchor"></a>Disclaimer</h2>
<p>This software has been approved for release by the U.S. Geological Survey (USGS). Although the software has been subjected to rigorous review, the USGS reserves the right to update the software as needed pursuant to further analysis and review. No warranty, expressed or implied, is made by the USGS or the U.S. Government as to the functionality of the software and related material nor shall the fact of release constitute any such warranty. Furthermore, the software is released on condition that neither the USGS nor the U.S. Government shall be held liable for any damages resulting from its authorized or unauthorized use.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Report a bug at <br><a href="https://github.com/USGS-R/toxEval/issues">https://​github.com/​USGS-R/​toxEval/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>CC0</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing toxEval</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Laura DeCicco <br><small class="roles"> Author, maintainer </small>  </li>
<li>Steven Corsi <br><small class="roles"> Author </small>  </li>
<li>Daniel Villeneuve <br><small class="roles"> Author </small>  </li>
<li>Brett Blackwell <br><small class="roles"> Author </small>  </li>
<li>Gerald Ankley <br><small class="roles"> Author </small>  </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
</div>

      <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/USGS-R/toxEval"><img src="https://travis-ci.org/USGS-R/toxEval.svg?branch=master" alt="travis"></a></li>
<li><a href="https://ci.appveyor.com/project/ldecicco-USGS/toxEval"><img src="https://ci.appveyor.com/api/projects/status/i2hr35abwxx85vgs?svg=true" alt="Build status"></a></li>
<li><a href="https://coveralls.io/github/USGS-R/toxEval?branch=master"><img src="https://coveralls.io/repos/github/USGS-R/toxEval/badge.svg?branch=master" alt="Coverage Status"></a></li>
<li><a href="https://owi.usgs.gov/R/packages.html#research"><img src="https://img.shields.io/badge/USGS-Research-blue.svg" alt="status"></a></li>
</ul>
</div>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Laura DeCicco, Steven Corsi, Daniel Villeneuve, Brett Blackwell, Gerald Ankley.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
